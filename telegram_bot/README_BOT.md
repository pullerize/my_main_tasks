# Telegram Bot - Управление

## Быстрый запуск

### Запуск бота
```bash
./start_bot.sh
```

### Остановка бота
```bash
./stop_bot.sh
```

### Проверка статуса
```bash
ps aux | grep "python.*bot.py" | grep -v grep
```

### Просмотр логов
```bash
tail -f telegram_bot.log
```

## Устранение проблем

### Ошибка "409 Conflict"
Эта ошибка означает, что бот уже запущен на другом устройстве или в другом процессе.

**Решение:**
1. Остановите все экземпляры бота: `./stop_bot.sh`
2. Проверьте другие устройства/серверы
3. Запустите бота заново: `./start_bot.sh`

### Бот не отвечает
1. Проверьте статус процесса
2. Проверьте логи: `tail -50 telegram_bot.log`
3. Перезапустите бота

### Множественные экземпляры
Бот защищён от множественного запуска через файл блокировки `/tmp/telegram_bot.lock`.
Если возникают проблемы, удалите этот файл:
```bash
rm -f /tmp/telegram_bot.lock
```

## Технические детали

- **База данных**: SQLite (shared_database.db)
- **API**: http://127.0.0.1:8000
- **Логи**: telegram_bot.log (в директории telegram_bot/)
- **Уровень логирования**: INFO (HTTP запросы и 409 ошибки отфильтрованы)

## Обновления

После изменения кода:
```bash
./stop_bot.sh
./start_bot.sh
```
